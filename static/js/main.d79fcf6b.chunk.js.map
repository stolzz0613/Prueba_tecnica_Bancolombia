{"version":3,"sources":["components/Header.js","components/Form.js","services/forecast.js","components/ForecastChart.js","assets/amanecer.png","assets/luna.png","components/ModalInfo.js","components/CurrentWeather.js","components/CitiesList.js","components/Spinner/Spinner.js","services/geolocationInfo.js","services/citiesCircle.js","App.js","index.js"],"names":["Header","title","className","href","Form","search","setsearch","setrequest","setspinner","city","useState","error","seterror","onSubmit","e","preventDefault","trim","type","name","id","value","onChange","target","htmlFor","getForecast","coord","a","lat","lon","urlOpenWeather","fetch","response","json","result","ForecastChart","forecastInfo","minDate","daily","dt","maxDate","length","series","options","chart","height","zoom","enabled","markers","size","theme","palette","dataLabels","stroke","curve","text","align","tooltip","custom","dataPointIndex","seriesIndex","w","maxTemp","averageTemp","minTemp","description","config","data","urlIcon","toUpperCase","xaxis","min","Date","toLocaleDateString","max","chartOptions","setchartOptions","parseData","useCallback","forEach","element","date","sumTemps","temp","eve","day","night","morn","push","x","toString","y","toFixed","weather","icon","removeDuplicates","slice","prevState","tempData","lookupObject","i","undefined","useEffect","ModalInfo","wind","main","open","setOpen","forecastChartReady","setforecastChartReady","current","sunrise","sunset","cityForecast","setcityForecast","convertTime","time","formattedTime","toLocaleTimeString","forecast","callApiForecast","onClick","onClose","center","alt","src","speed","humidity","pressure","CurrenWeather","temp_max","temp_min","CitiesList","cities","map","Spinner","getGeolocationInfo","setmessage","urlOpenCage","geolocationInfo","results","getCitiesCircle","citiesInfo","coordinates","geometry","lng","App","spinner","initialRequest","setinitialRequest","request","setresult","nonresult","setnonresult","message","window","navigator","geolocation","getCurrentPosition","success","setTimeout","callApi","pos","crd","coords","latitude","longitude","list","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.d79fcf6b.chunk.js","sourcesContent":["const Header = ({title}) => {\n    return ( \n        <nav>\n            <div\n                className = 'nav-wrapper light-blue darken-2'\n            >\n                <a href='#!' className='brand-logo'>{title}</a>\n            </div>\n        </nav>\n    );\n}\n \nexport default Header;","import {useState} from 'react';\n\nconst Form = ({search, setsearch, setrequest, setspinner}) => {\n\n    const {city} = search;\n\n    //State for validations\n    const [error, seterror] = useState(false);\n\n    //Handlers\n    const handleChange = e => {\n        setsearch({\n            ...search,\n            [e.target.name] : e.target.value,\n        })\n    };\n\n    const handleSubmit = e => {\n        e.preventDefault();\n\n        if(city.trim() === ''){\n            seterror(true);\n            return;\n        }\n        seterror(false);\n        setspinner(true);\n        setrequest(true);\n    };\n\n    return (\n        <form\n            onSubmit={handleSubmit}\n        >\n            {\n                error\n                    ? <p className ='error red darken-4'>All fields are required</p>\n                    : null\n            }\n            <div className = 'input-field col s12'>\n                <input\n                    type ='text'\n                    name ='city'\n                    id ='city'\n                    value = {city}\n                    onChange = {handleChange}\n                />\n                <label htmlFor = 'city'>City: </label>\n            </div>\n            <div>\n                <input \n                    type = 'submit'\n                    value = 'Check the weather'\n                    className ='waves-effect waves-light btn-large btn-block green accent-4'\n                />\n            </div>\n        </form>\n    );\n}\n\nexport default Form;","//Request to get the forecast for an specific city\nexport const getForecast = async(coord) => {\n\n    const {lat, lon} = coord;\n    const apiKeyOpenWeatherMap = '90d59b52f0d676557ad6edc22bbde499';\n    const urlOpenWeather = `https://api.openweathermap.org/data/2.5/onecall?lat=${lat}&lon=${lon}&exclude=minutely,hourly,alerts&appid=${apiKeyOpenWeatherMap}`;\n    const response = await fetch(urlOpenWeather);\n    const result = await response.json();\n\n    return result;\n  }","import { useState, useEffect, useCallback } from 'react';\nimport Chart from 'react-apexcharts';\n\nconst ForecastChart= ({forecastInfo}) => {\n\n  const minDate = forecastInfo.daily[0].dt;\n  const maxDate = forecastInfo.daily[forecastInfo.daily.length - 1].dt;\n\n  //State for chart options\n  const [chartOptions, setchartOptions]= useState({\n    series: [],\n    options: {\n      chart: {\n        height: 350,\n        type: 'line',\n        zoom: {\n          enabled: false\n        }\n      },\n      markers: {\n        size: [6, 6, 6]\n      },\n      theme: {\n        palette: 'palette4' // upto palette10\n      },\n      dataLabels: {\n        enabled: false\n      },\n      stroke: {\n        curve: 'straight'\n      },\n      title: {\n        text: 'Forecast for the next 5 days',\n        align: 'left'\n      },\n      //Custom tooltip\n      tooltip: {\n        custom: function({series, seriesIndex, dataPointIndex, w}) {\n          let maxTemp = series[1][dataPointIndex];\n          let averageTemp = series[0][dataPointIndex];\n          let minTemp = series[2][dataPointIndex];\n          let description = w.config.series[0].data[dataPointIndex].description;\n          let urlIconModal = w.config.series[0].data[dataPointIndex].urlIcon;\n\n          return (\n            '<div class=\"card center\" style=\"padding: 20px;\">' +\n            '<img src =\"' + urlIconModal + '\" alt = \"icon\"/>' +\n              '<h6 class=\"center\">' + description.toUpperCase() + '</h6><hr/>'+\n              '<ul>' +\n                '<li class=\"maxTemp\"> <span><strong>Max temp: </strong>' + maxTemp + '&deg;C</span> </li>' +\n                '<li class=\"averageTemp\"> <span><strong>Average temp: </strong>'  + averageTemp + '&deg;C</span></li>' +\n                '<li class=\"minTemp\"> <span><strong>Min temp: </strong>' + minTemp + '&deg;C</span></li>' +\n              '</ul>' +    \n            '</div>'\n          )\n        }\n      },\n      xaxis: {\n        type:  'datetime',\n        min: new Date(minDate * 1000).toLocaleDateString('en-US'),\n        max: new Date(maxDate * 1000).toLocaleDateString('en-US'),\n      }\n    },\n  });\n\n  //Function used to convert the information to be graphed\n  const parseData = useCallback(() => {\n    let averageTemp = [];\n    let maxTemp = [];\n    let minTemp = [];\n    let data = [];\n\n    forecastInfo.daily.forEach(element => {\n      let date = new Date(element.dt * 1000);\n      let sumTemps = (element.temp.eve + element.temp.day + element.temp.night + element.temp.morn) - (4 * 273.15);\n\n      averageTemp.push(\n        {\n          x: date.toLocaleDateString('en-US').toString(),\n          y: (sumTemps / 4).toFixed(2),\n          description: element.weather[0].description,\n          urlIcon: `http://openweathermap.org/img/wn/${element.weather[0].icon}@2x.png`\n        },\n      );\n      maxTemp.push(\n        {\n          x: date.toLocaleDateString('en-US').toString(),\n          y: (element.temp.max - 273.15).toFixed(2),\n          description: element.weather[0].description,\n          urlIcon: `http://openweathermap.org/img/wn/${element.weather[0].icon}@2x.png`\n        },\n      );\n      minTemp.push(\n        {\n          x: date.toLocaleDateString('en-US').toString(),\n          y: (element.temp.min - 273.15).toFixed(2),\n          description: element.weather[0].description,\n          urlIcon: `http://openweathermap.org/img/wn/${element.weather[0].icon}@2x.png`\n        },\n      );\n    });\n\n    averageTemp = removeDuplicates(averageTemp).slice(0,5);\n    maxTemp = removeDuplicates(maxTemp).slice(0,5);\n    minTemp = removeDuplicates(minTemp).slice(0,5);\n\n    data.push(\n      {name: \"Average Temp\", data: averageTemp},\n      {name: \"Max Temp\", data: maxTemp},\n      {name: \"Min Temp\", data: minTemp}\n    );\n    //Update chartOptions in order to show the new chart\n    setchartOptions(prevState => ({\n          ...prevState, series: data\n        })\n    );\n  },[forecastInfo]);\n\n  //Function to leave only one data per date\n  function removeDuplicates(tempData) {\n    var result = [];\n    var lookupObject = {};\n\n    for (let i in tempData) {\n      if (lookupObject[tempData[i]['x']] === undefined) {\n        result.push(tempData[i]);\n      }\n      lookupObject[tempData[i]['x']] = tempData[i];\n    }\n    return result;\n  }\n\n  useEffect(() =>{\n    parseData();\n  }, [parseData]);\n\n  return (\n    <Chart\n      options= {chartOptions.options}\n      series= {chartOptions.series}\n    />\n  );\n}\nexport default ForecastChart;","export default __webpack_public_path__ + \"static/media/amanecer.7b902eec.png\";","export default __webpack_public_path__ + \"static/media/luna.bb31cb56.png\";","import {useState, useEffect} from 'react';\nimport {getForecast} from '../services/forecast';\nimport ForecastChart from './ForecastChart';\nimport 'react-responsive-modal/styles.css';\nimport { Modal } from 'react-responsive-modal';\nimport sunrise from '../assets/amanecer.png';\nimport sunset from '../assets/luna.png';\n\nconst ModalInfo= ({city})=> {\n    const {wind, main, coord}= city;\n    \n    const [open, setOpen] = useState(false);\n    const [forecastChartReady, setforecastChartReady] = useState(false);\n\n    const onOpenModal = () => setOpen(true);\n    const onCloseModal = () => setOpen(false);\n\n    //State to store the forecast\n    const [cityForecast, setcityForecast] = useState({\n        current:{\n            sunrise: '',\n            sunset: ''\n        }\n    });\n\n    const convertTime= (time)=> {\n        var formattedTime= new Date(time * 1000);\n        formattedTime= formattedTime.toLocaleTimeString();\n        return formattedTime;\n    }\n\n    useEffect(() => {\n        const callApiForecast = async () => {\n            if(open){\n                const forecast = await getForecast(coord);\n                setcityForecast(forecast);\n                setforecastChartReady(true);\n            }\n        };\n        callApiForecast();\n    }, [open, coord]);\n\n    return (\n        <div>\n            <button onClick={onOpenModal}>Open modal</button>\n            <Modal open={open} onClose={onCloseModal} center>\n                <div className= 'modalHeader'>\n                    <div className='row'>\n                        <p className='modalTitle col s12 m8'>Additional Information</p>\n                        <div className='center col s6 m2'>\n                            <img className='icon' alt='sunrise' src= {sunrise}/>\n                            <p>{convertTime(cityForecast.current.sunrise)}</p>\n                        </div>\n                        <div className='center col s6 m2'>\n                            <img className='icon' alt='sunset' src= {sunset}/>\n                            <p>{convertTime(cityForecast.current.sunset)}</p>\n                        </div>\n                    </div>\n                </div>\n                <div className='row'>\n                    <div className='col s12 m4'>\n                        <h5 className= 'center'>Wind speed:</h5>\n                        <h6 className= 'center'>{wind.speed} m/h</h6>\n                    </div>\n                    <div className= 'col s12 m4'>\n                        <h5 className= 'center'>Humidity:</h5>\n                        <h6 className= 'center'>{(main.humidity)} %</h6>\n                    </div>\n                    <div className='col s12 m4'>\n                        <h5 className= 'center'>Pressure:</h5>\n                        <h6 className= 'center'>{(main.pressure)} hPa</h6>\n                    </div>\n                </div>\n                <hr/>\n                {forecastChartReady\n                    ?\n                        <ForecastChart\n                            forecastInfo = {cityForecast}\n                        />\n                    : null\n                }\n            </Modal>\n        </div>\n    );\n};\nexport default ModalInfo;","import ModalInfo from './ModalInfo';\n\nconst CurrenWeather = ({city}) => {\n\n    const {name, weather, main} = city;\n    const urlIcon = `http://openweathermap.org/img/wn/${weather[0].icon}@4x.png`;\n\n    return (\n        <div className = 'col s12'>\n            <div className='card-panel white'>\n                <div>\n                    <div className ='row'>\n                        <img \n                            className = 'col'\n                            src = {urlIcon}\n                            alt = 'icon'\n                        />\n                        <div className = 'col s12 m6'>\n                            <h2>Current weather for: </h2>\n                            <p className = 'city-name'>\n                                {name}\n                            </p>\n                        </div>\n                    </div>\n                    <div className ='row'>\n                        <div className='col s12 m6 l3'>\n                            <h5 className = 'center'>{weather[0].main}</h5>\n                            <h6 className = 'center'>{weather[0].description}</h6>\n                        </div>\n                        <div className='col s12 m6 l3'>\n                            <h5 className = 'center'>Current:</h5>\n                            <h6 className = 'center'>{(main.temp - 273.15).toFixed(2)} &deg;C</h6>\n                        </div>\n                        <div className='col s12 m6 l3'>\n                            <h5 className = 'center'>Max:</h5>\n                            <h6 className = 'center'>{(main.temp_max - 273.15).toFixed(2)} &deg;C</h6>\n                        </div>\n                        <div className='col s12 m6 l3'>\n                            <h5 className = 'center'>Min:</h5>\n                            <h6 className = 'center'>{(main.temp_min - 273.15).toFixed(2)} &deg;C</h6>\n                        </div>\n                    </div>\n                    <div className='center-align s12'>\n                        <ModalInfo\n                            city = {city}\n                        />\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n}\n \nexport default CurrenWeather;","import CurrenWeather from \"./CurrentWeather\";\n\nconst CitiesList = ({cities}) => {\n    return (\n        <div className='mt-5'>\n            {cities.map(city => (\n                <CurrenWeather \n                    city = {city}\n                    key = {city.id}\n                />\n            ))}\n        </div>\n    );\n}\n\nexport default CitiesList;","import \"./Spinner.css\";\n\nconst Spinner = () => {\n    return (\n        <div className=\"sk-fading-circle\">\n            <div className=\"sk-circle1 sk-circle\"></div>\n            <div className=\"sk-circle2 sk-circle\"></div>\n            <div className=\"sk-circle3 sk-circle\"></div>\n            <div className=\"sk-circle4 sk-circle\"></div>\n            <div className=\"sk-circle5 sk-circle\"></div>\n            <div className=\"sk-circle6 sk-circle\"></div>\n            <div className=\"sk-circle7 sk-circle\"></div>\n            <div className=\"sk-circle8 sk-circle\"></div>\n            <div className=\"sk-circle9 sk-circle\"></div>\n            <div className=\"sk-circle10 sk-circle\"></div>\n            <div className=\"sk-circle11 sk-circle\"></div>\n            <div className=\"sk-circle12 sk-circle\"></div>\n        </div>\n    );\n}\n\nexport default Spinner;","//Request to get the coordinates for a name\nexport const getGeolocationInfo = async(city, setmessage) => {\n\n    const apiKeyOpenCage = '3f3b5b21e99b42da9f7e0ecd21c9981e';\n    const urlOpenCage = `https://api.opencagedata.com/geocode/v1/json?q=${city}&key=${apiKeyOpenCage}`;\n\n    const response = await fetch(urlOpenCage);\n    const result = await response.json();\n\n    let geolocationInfo = {};\n    if (result.results.length > 0) {\n        geolocationInfo = result.results[0];\n    } else {\n        geolocationInfo = null;\n        setmessage('No se encontraron resultados');\n    }\n\n    return geolocationInfo;\n}","\n//Request to get the basic weather information for the nearest cities\nexport const getCitiesCircle = async(geolocationInfo) => {\n\n    let citiesInfo = {};\n    const coordinates = geolocationInfo.geometry;\n    const apiKeyOpenWeatherMap = '90d59b52f0d676557ad6edc22bbde499';\n    const urlOpenWeather = `https://api.openweathermap.org/data/2.5/find?lat=${coordinates.lat}&lon=${coordinates.lng}&cnt=5&appid=${apiKeyOpenWeatherMap}`;\n    const response = await fetch(urlOpenWeather);\n    const result = await response.json();\n    \n    citiesInfo = {...result, ...geolocationInfo};\n\n    return citiesInfo;\n  }","import {useState, useEffect} from 'react';\nimport Header from './components/Header';\nimport Form from './components/Form';\nimport CitiesList from './components/CitiesList';\nimport Spinner from \"./components/Spinner/Spinner\";\nimport {getGeolocationInfo} from './services/geolocationInfo';\nimport {getCitiesCircle} from './services/citiesCircle';\n\n\nfunction App() {\n\n  //State for form\n  const [search, setsearch]= useState({city: ''});\n\n  //State for Spinner\n  const [spinner, setspinner] = useState(false);\n\n  //State for initial request\n  const [initialRequest, setinitialRequest] = useState(true);\n\n  //State for api request\n  const [request, setrequest]= useState(false);\n\n  //State for result\n  const [result, setresult]= useState({});\n\n  //State for non result\n  const [nonresult, setnonresult]= useState(true);\n\n  //State for message\n  const [message, setmessage]= useState('');\n\n  useEffect(() => {\n    const callApi= async () => {\n      /*\n        If it is the first time that we are opening the page we will be able to see the weather information\n        for our location, if the location is disabled or there are no results, we can perform a manual search\n      */\n      if(initialRequest){\n        setspinner(true);\n        window.navigator.geolocation.getCurrentPosition(success);\n        setinitialRequest(false);\n      }\n      if(request){\n        setspinner(true);\n        const {city}= search;\n        let geolocationInfo= await getGeolocationInfo(city, setmessage);\n\n        if(geolocationInfo !== null){\n          let citiesInfo= await getCitiesCircle(geolocationInfo);\n          setrequest(false);\n          setspinner(false);\n          setresult(citiesInfo);\n          setnonresult(false);\n        } else {\n          setrequest(false);\n          setspinner(false);\n          setnonresult(true);\n          setmessage('No results found');\n        }\n      } else {\n        setTimeout(() => {\n          setspinner(false);\n          setmessage('Enter a city to start the search');\n        }, 5000); \n      }\n    };\n    callApi();\n  }, [request, initialRequest, search]);\n\n  //Funtion to build the object with the coordinates of our current position\n  const success= async(pos) => {\n    var crd = pos.coords;\n    let geolocationInfo = {\n      geometry: {\n          lat: crd.latitude,\n          lng: crd.longitude\n      }\n    }\n    let citiesInfo= await getCitiesCircle(geolocationInfo);\n    setspinner(false);\n    setresult(citiesInfo);\n    setnonresult(false);\n  };\n\n\n  return (\n   <>\n    <Header \n      title= 'Weather App'\n    />\n\n    <div className= 'contenedor-form'>\n      <div className= 'container'>\n        <div className= 'row'>\n          <Form \n            search= {search}\n            setsearch= {setsearch}\n            setrequest= {setrequest}\n            setspinner= {setspinner}\n          />\n        </div>\n        {!spinner\n          ?\n            <div className= 'row'>\n              {!nonresult\n                ? <CitiesList \n                      cities= {result.list}\n                  />\n                : <p className ='error red darken-4'>{message}</p>\n              }\n            </div>\n          :\n            <Spinner />\n        }\n      </div>\n    </div>\n   </>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}